<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

{% load static %}

<html lang="en">
  <head>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
  {% block style %}
  {% endblock %}
    <title>UoE module diagram</title>
  </head>

  <body>
    <main>
        {% if table_data %}
          <div class="div_table">
            <div class="first_dept">
              <div class="first_column">
                {% for year in num_years%}
                  {% if year != 'False' %}
                    <div class="first_cell">
                      Y{{year}}
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
            </div>
          {% for department in table_data %}
            <div class="department" style="{{department.1}}">
            {% for column in department.0 %}
              <div class="column">
                {% for row in column %}
                  {% if row.1 != 'False' %}
                    <div class="cell">
                      {% for wrapper in row.0 %}
                        <div class="wrapper">
                          {% for module in wrapper %}

                            {% if module.1 == 1 %}
                              <table class="module_box module_T1">
                                <tbody>
                                  <tr>
                                    <td class="module_name">{{module.0}}</td>
                                  </tr>
                                  <tr>
                                    {% if module.2 %}
                                    <td class="details_link"><a href="{{ module.2 }}"> Details <a></td>
                                    {% endif %}
                                  </tr>
                                </tbody>
                              </table>

                            {% elif module.1 == 12 %}
                              <table class="module_box module_T1_2">
                                <tbody>
                                  <tr>
                                    <td class="module_name">{{module.0}} </td>
                                  </tr>
                                  <tr>
                                    {% if module.2 %}
                                    <td class="details_link"><a href="{{ module.2 }}"> Details <a></td>
                                    {% endif %}
                                  </tr>
                                </tbody>
                              </table>

                            {% elif module.1 == 123 %}
                              <table class="module_box module_T1_2_3">
                                <tbody>
                                  <tr>
                                    <td class="module_name">{{module.0}} </td>
                                  </tr>
                                  <tr>
                                    {% if module.2 %}
                                    <td class="details_link"><a href="{{ module.2 }}"> Details <a></td>
                                    {% endif %}
                                  </tr>
                                </tbody>
                              </table>

                            {% elif module.1 == 2 %}
                              <table class="module_box module_T2">
                                <tbody>
                                  <tr>
                                    <td class="module_name">{{module.0}}</td>
                                  </tr>
                                  <tr>
                                    {% if module.2 %}
                                    <td class="details_link"><a href="{{ module.2 }}"> Details <a></td>
                                    {% endif %}
                                  </tr>
                                </tbody>
                              </table>

                            {% elif module.1 == 3 %}
                              <table class="module_box module_T3">
                                <tbody>
                                  <tr>
                                    <td class="module_name">{{module.0}}</td>
                                  </tr>
                                  <tr>
                                    {% if module.2 %}
                                    <td class="details_link"><a href="{{ module.2 }}"> Details <a></td>
                                    {% endif %}
                                  </tr>
                                </tbody>
                              </table>

                            {% elif module.1 == -1 %}
                              <div class="Spacer">
                              </div>

                            {% endif %}
                          {% endfor %}
                        </div>
                      {% endfor %}
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
            {% endfor %}
            </div>
          {% endfor %}
          </div>
        {% else %}
          <p>No modules are available.</p>
        {% endif %}
        <script src="{% static 'map_interactivity.js' %}" type="text/javascript">
        </script>
    </main>
  </body>

</html>
